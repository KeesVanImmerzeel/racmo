% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main.R
\name{download_and_load_raster}
\alias{download_and_load_raster}
\title{Download and load a raster from a NetCDF file}
\usage{
download_and_load_raster(filename, varid = "precip", token, url)
}
\arguments{
\item{filename}{Character. Name of the file to download.}

\item{varid}{Character. Variable name to extract from the NetCDF file. Default is "precip".}

\item{token}{Character. Bearer token for authentication.}

\item{url}{Character. The full API endpoint URL.}
}
\value{
A \code{terra::SpatRaster} object with layers named by variable and date.
}
\description{
Downloads a NetCDF file from a remote API using a temporary URL, extracts a specified variable,
converts it into a projected SpatRaster stack, and assigns time-based layer names.
}
\details{
This function:
\enumerate{
\item Removes temporary files.
\item Requests a temporary download URL from the API.
\item Downloads the NetCDF file.
\item Reads the specified variable and creates a raster stack.
\item Projects the raster to EPSG:28992.
\item Extracts CF-compliant time dimension and assigns layer names.
}
}
\examples{
\dontrun{
rstack <- download_and_load_raster("example.nc", varid = "precip",
                                    token = "YOUR_TOKEN",
                                    url = "https://example.com/api")
terra::plot(rstack)
}

}
